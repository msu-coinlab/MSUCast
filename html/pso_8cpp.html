<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MSU CAST EPA PROJECT: src/pso.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MSU CAST EPA PROJECT<span id="projectnumber">&#160;MSUCASTD01</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('pso_8cpp.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">pso.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Implementation of the <a class="el" href="class_particle.html" title="A class representing a particle for optimization algorithms.">Particle</a> Swarm Optimization (<a class="el" href="class_p_s_o.html" title="Particle Swarm Optimization class.">PSO</a>) algorithm and related helper functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &lt;random&gt;</code><br />
<code>#include &lt;algorithm&gt;</code><br />
<code>#include &lt;functional&gt;</code><br />
<code>#include &lt;numeric&gt;</code><br />
<code>#include &lt;cmath&gt;</code><br />
<code>#include &lt;fstream&gt;</code><br />
<code>#include &lt;range/v3/all.hpp&gt;</code><br />
<code>#include &quot;external_archive.h&quot;</code><br />
<code>#include &quot;particle.h&quot;</code><br />
<code>#include &quot;pso.h&quot;</code><br />
<code>#include &quot;scenario.h&quot;</code><br />
<code>#include &quot;misc_utilities.h&quot;</code><br />
<code>#include &lt;crossguid/guid.hpp&gt;</code><br />
<code>#include &lt;fmt/core.h&gt;</code><br />
<code>#include &lt;regex&gt;</code><br />
<code>#include &lt;filesystem&gt;</code><br />
<code>#include &lt;boost/algorithm/string.hpp&gt;</code><br />
<code>#include &lt;optional&gt;</code><br />
<code>#include &lt;nlohmann/json.hpp&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_cost_data.html">CostData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data structure to hold cost information for a solution.  <a href="struct_cost_data.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3c8b236792fd605a21c70963fd767838" id="r_a3c8b236792fd605a21c70963fd767838"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3c8b236792fd605a21c70963fd767838">dominates</a> (const <a class="el" href="struct_cost_data.html">CostData</a> &amp;a, const <a class="el" href="struct_cost_data.html">CostData</a> &amp;b, int num_objectives)</td></tr>
<tr class="memdesc:a3c8b236792fd605a21c70963fd767838"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if solution A dominates solution B.  <br /></td></tr>
<tr class="separator:a3c8b236792fd605a21c70963fd767838"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89e355fadb99183525b25066eb045d8e" id="r_a89e355fadb99183525b25066eb045d8e"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a89e355fadb99183525b25066eb045d8e">find_pareto_front</a> (const std::vector&lt; <a class="el" href="struct_cost_data.html">CostData</a> &gt; &amp;data, int num_objectives)</td></tr>
<tr class="memdesc:a89e355fadb99183525b25066eb045d8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds the Pareto front among a set of cost data.  <br /></td></tr>
<tr class="separator:a89e355fadb99183525b25066eb045d8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04ff141e566fe47c1866537b03b92452" id="r_a04ff141e566fe47c1866537b03b92452"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="struct_cost_data.html">CostData</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a04ff141e566fe47c1866537b03b92452">readCostFiles</a> (const std::vector&lt; std::string &gt; &amp;objs, const std::string &amp;directory)</td></tr>
<tr class="memdesc:a04ff141e566fe47c1866537b03b92452"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads cost data from JSON files in a directory.  <br /></td></tr>
<tr class="separator:a04ff141e566fe47c1866537b03b92452"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12fa7c4e5183cf8bdb7c89d436646e82" id="r_a12fa7c4e5183cf8bdb7c89d436646e82"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a12fa7c4e5183cf8bdb7c89d436646e82">findParetoFrontFiles</a> (const std::vector&lt; std::string &gt; &amp;objs, const std::string &amp;directory)</td></tr>
<tr class="memdesc:a12fa7c4e5183cf8bdb7c89d436646e82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds Pareto front files by reading cost data and determining non-dominated solutions.  <br /></td></tr>
<tr class="separator:a12fa7c4e5183cf8bdb7c89d436646e82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40370f916973588e056d5867e15b2480" id="r_a40370f916973588e056d5867e15b2480"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a40370f916973588e056d5867e15b2480">writeCSV</a> (const std::vector&lt; <a class="el" href="struct_cost_data.html">CostData</a> &gt; &amp;data, const std::string &amp;output_file, const std::vector&lt; std::string &gt; &amp;objs)</td></tr>
<tr class="memdesc:a40370f916973588e056d5867e15b2480"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes cost data to a CSV file.  <br /></td></tr>
<tr class="separator:a40370f916973588e056d5867e15b2480"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of the <a class="el" href="class_particle.html" title="A class representing a particle for optimization algorithms.">Particle</a> Swarm Optimization (<a class="el" href="class_p_s_o.html" title="Particle Swarm Optimization class.">PSO</a>) algorithm and related helper functions. </p>
<p>This file implements the <a class="el" href="class_p_s_o.html" title="Particle Swarm Optimization class.">PSO</a> algorithm for multi-objective optimization along with functions for reading cost files, determining Pareto fronts, saving results to CSV, and performing post‚Äêprocessing using an external optimizer (Ipopt). Helper functions for file operations and JSON/scenario parsing are also included.</p>
<p>Dependencies: fmt, nlohmann::json, Boost, range-v3, crossguid, and various STL libraries. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a3c8b236792fd605a21c70963fd767838" name="a3c8b236792fd605a21c70963fd767838"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c8b236792fd605a21c70963fd767838">&#9670;&#160;</a></span>dominates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool dominates </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_cost_data.html">CostData</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>a</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_cost_data.html">CostData</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>b</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>num_objectives</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if solution A dominates solution B. </p>
<p>For two objectives, A dominates B if both objective values are less than or equal and at least one is strictly less. For three objectives, domination is checked only if both solutions have a value for the third objective.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>The first <a class="el" href="struct_cost_data.html" title="Data structure to hold cost information for a solution.">CostData</a> solution. </td></tr>
    <tr><td class="paramname">b</td><td>The second <a class="el" href="struct_cost_data.html" title="Data structure to hold cost information for a solution.">CostData</a> solution. </td></tr>
    <tr><td class="paramname">num_objectives</td><td>Number of objectives (2 or 3). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if a dominates b, false otherwise. </dd></dl>

</div>
</div>
<a id="a89e355fadb99183525b25066eb045d8e" name="a89e355fadb99183525b25066eb045d8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89e355fadb99183525b25066eb045d8e">&#9670;&#160;</a></span>find_pareto_front()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::string &gt; find_pareto_front </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="struct_cost_data.html">CostData</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>num_objectives</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds the Pareto front among a set of cost data. </p>
<p>Returns the file indices corresponding to solutions that are non-dominated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Vector of <a class="el" href="struct_cost_data.html" title="Data structure to hold cost information for a solution.">CostData</a> representing the solutions. </td></tr>
    <tr><td class="paramname">num_objectives</td><td>Number of objectives in the optimization problem. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::vector&lt;std::string&gt; Vector of file indices that form the Pareto front. </dd></dl>

</div>
</div>
<a id="a12fa7c4e5183cf8bdb7c89d436646e82" name="a12fa7c4e5183cf8bdb7c89d436646e82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12fa7c4e5183cf8bdb7c89d436646e82">&#9670;&#160;</a></span>findParetoFrontFiles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::string &gt; findParetoFrontFiles </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>objs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>directory</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds Pareto front files by reading cost data and determining non-dominated solutions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">objs</td><td>A vector of objective names. </td></tr>
    <tr><td class="paramname">directory</td><td>The directory containing the cost files. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::vector&lt;std::string&gt; A vector of file indices that are on the Pareto front. </dd></dl>

</div>
</div>
<a id="a04ff141e566fe47c1866537b03b92452" name="a04ff141e566fe47c1866537b03b92452"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04ff141e566fe47c1866537b03b92452">&#9670;&#160;</a></span>readCostFiles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="struct_cost_data.html">CostData</a> &gt; readCostFiles </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>objs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>directory</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads cost data from JSON files in a directory. </p>
<p>The function iterates over the directory, looking for filenames ending with "_costs.json", parses each JSON file, and extracts the cost values for each objective.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">objs</td><td>A vector of objective names to extract. </td></tr>
    <tr><td class="paramname">directory</td><td>The directory to search for cost files. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::vector&lt;CostData&gt; Vector of cost data extracted from the files. </dd></dl>

</div>
</div>
<a id="a40370f916973588e056d5867e15b2480" name="a40370f916973588e056d5867e15b2480"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40370f916973588e056d5867e15b2480">&#9670;&#160;</a></span>writeCSV()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void writeCSV </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="struct_cost_data.html">CostData</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>output_file</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>objs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes cost data to a CSV file. </p>
<p>The function sorts the cost data by file index (converted to a number) and writes the objectives to the CSV file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Vector of <a class="el" href="struct_cost_data.html" title="Data structure to hold cost information for a solution.">CostData</a> to write. </td></tr>
    <tr><td class="paramname">output_file</td><td>The path of the CSV output file. </td></tr>
    <tr><td class="paramname">objs</td><td>A vector of objective names (for header purposes). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="pso_8cpp.html">pso.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
